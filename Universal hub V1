--// Universal ESP + GUI Hub
--// Made by Sahil ðŸ˜Ž

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

--/////////// ScreenGui /////////////
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "UniversalHub"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

--/////////// GUI Toggle Icon /////////////
local ToggleIcon = Instance.new("ImageButton")
ToggleIcon.Size = UDim2.new(0,50,0,50)
ToggleIcon.Position = UDim2.new(0,10,0.5,-25)
ToggleIcon.Image = "rbxassetid://7072727474"
ToggleIcon.BackgroundTransparency = 0.5
ToggleIcon.Parent = ScreenGui
ToggleIcon.Active = true
ToggleIcon.Draggable = true

--/////////// Main Frame /////////////
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0,400,0,500)
MainFrame.Position = UDim2.new(0.5,-200,0.5,-250)
MainFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
MainFrame.Visible = false
MainFrame.Parent = ScreenGui

ToggleIcon.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)

--/////////// Draggable Main Frame /////////////
local Dragging, DragInput, DragStart, StartPos
local function update(input)
    local Delta = input.Position - DragStart
    MainFrame.Position = UDim2.new(StartPos.X.Scale, StartPos.X.Offset + Delta.X, StartPos.Y.Scale, StartPos.Y.Offset + Delta.Y)
end
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        Dragging = true
        DragStart = input.Position
        StartPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then Dragging = false end
        end)
    end
end)
MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        DragInput = input
    end
end)
RunService.RenderStepped:Connect(function()
    if Dragging and DragInput then update(DragInput) end
end)

--/////////// Noclip Toggle Button /////////////
local noclip = false
local NoclipButton = Instance.new("TextButton")
NoclipButton.Size = UDim2.new(0,150,0,50)
NoclipButton.Position = UDim2.new(0,20,0,20)
NoclipButton.Text = "Noclip: OFF"
NoclipButton.BackgroundColor3 = Color3.fromRGB(35,35,35)
NoclipButton.TextColor3 = Color3.new(1,1,1)
NoclipButton.Parent = MainFrame

NoclipButton.MouseButton1Click:Connect(function()
    noclip = not noclip
    NoclipButton.Text = "Noclip: "..(noclip and "ON" or "OFF")
end)

RunService.Stepped:Connect(function()
    if LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = not noclip
            end
        end
    end
end)

--/////////// Hitbox Expander /////////////
local PlayerList = Instance.new("ScrollingFrame")
PlayerList.Size = UDim2.new(0,200,0,200)
PlayerList.Position = UDim2.new(0,20,0,90)
PlayerList.CanvasSize = UDim2.new(0,0,0,0)
PlayerList.BackgroundColor3 = Color3.fromRGB(30,30,30)
PlayerList.Parent = MainFrame

local ApplyButton = Instance.new("TextButton")
ApplyButton.Size = UDim2.new(0,150,0,50)
ApplyButton.Position = UDim2.new(0,220,0,90)
ApplyButton.Text = "Apply Hitbox"
ApplyButton.BackgroundColor3 = Color3.fromRGB(35,35,35)
ApplyButton.TextColor3 = Color3.new(1,1,1)
ApplyButton.Parent = MainFrame

local SelectedPlayer
local function UpdatePlayerList()
    PlayerList:ClearAllChildren()
    local y = 0
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1,0,0,30)
            btn.Position = UDim2.new(0,0,0,y)
            btn.Text = player.Name
            btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
            btn.TextColor3 = Color3.new(1,1,1)
            btn.Parent = PlayerList
            y = y + 35
            btn.MouseButton1Click:Connect(function()
                SelectedPlayer = player
            end)
        end
    end
    PlayerList.CanvasSize = UDim2.new(0,0,0,y)
end

Players.PlayerAdded:Connect(UpdatePlayerList)
Players.PlayerRemoving:Connect(UpdatePlayerList)
UpdatePlayerList()

ApplyButton.MouseButton1Click:Connect(function()
    if SelectedPlayer and SelectedPlayer.Character then
        local hrp = SelectedPlayer.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            hrp.Size = Vector3.new(10,10,10) -- hitbox size
        end
    end
end)

print("Universal ESP + GUI Loaded âœ…")
